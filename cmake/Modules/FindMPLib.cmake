find_package(GMP)
find_package(MPIR)

if(GMP_FOUND)
    set(GR_MPLIB_GMP True)
    set(MPLib_DEFINITIONS "-DGR_MPLIB_GMP" ${GMP_DEFINITIONS})
    set(MPLib_INCLUDE_DIR ${GMP_INCLUDE_DIR})
    set(MPLib_LIBRARY ${GMP_LIBRARY})
    set(MPLibXX_LIBRARY ${GMPXX_LIBRARY})
    set(MPLib_PC_ADD_CFLAGS ${GMP_PC_ADD_CFLAGS})
    set(MPLib_PC_ADD_LIBS ${GMP_PC_ADD_LIBS})
else(GMP_FOUND)
    set(GR_MPLIB_MPIR True)
    set(MPLib_DEFINITIONS "-DGR_MPLIB_MPIR" ${MPIR_DEFINITIONS})
    set(MPLib_INCLUDE_DIR ${MPIR_INCLUDE_DIR})
    set(MPLib_LIBRARY ${MPIR_LIBRARY})
    set(MPLibXX_LIBRARY ${MPIRXX_LIBRARY})
    set(MPLib_PC_ADD_CFLAGS ${MPIR_PC_ADD_CFLAGS})
    set(MPLib_PC_ADD_LIBS ${MPIR_PC_ADD_LIBS})
endif(GMP_FOUND)

set(MPLib_INCLUDE_DIRS ${MPLib_INCLUDE_DIR})
set(MPLib_LIBRARIES ${MPLibXX_LIBRARY} ${MPLib_LIBRARY})

include(FindPackageHandleStandardArgs)
find_package_handle_standard_args(MPLib DEFAULT_MSG MPLibXX_LIBRARY MPLib_LIBRARY MPLib_INCLUDE_DIR)
mark_as_advanced(MPLibXX_LIBRARY MPLib_LIBRARY MPLib_INCLUDE_DIR)
